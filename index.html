<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Eko's HL7 Parser</title>
		<link rel="stylesheet" href="index.css">
	</head>
	<body>
		<h1>Eko's HL7 Parser</h1>
		<p>Load a grammar defintion file (.hl7gr, .zip) and select your preferred version. Paste your message in the box below to see the results.</p>
		<input style="display: none;" type="file" id="hl7-grammar-file-select" accept=".HL7GR,.zip"></input>
		<button id="hl7-grammar-file-select-button">Load HL7 Grammar Definition</button>
		<span id="hl7-version-span" style="display: none;">
			<label for="hl7-version-select">HL7 Version:</label>
			<select id="hl7-version-select"></select>
		</span>
		<textarea id="message-textarea" rows="12", cols="128" placeholder="HL7 Message..."></textarea>
		
		<button id="parse-button">Parse</button>
		
		<div id="reconstructed-message-div" class="code-block">
		</div>
		
		<div id="constituent-description-div">
		</div>
		
		<div id="entity-description-div">
		</div>
		
		<hr>
		
		<div style="display: none;" id="grammar-syntax-errors-div">
		</div>
		
		<script src="HL7 Grammar/HL7Entity.js"></script>
		<script src="HL7 Grammar/HL7Table.js"></script>
		<script src="HL7 Grammar/HL7Primitive.js"></script>
		<script src="HL7 Grammar/HL7Constituent.js"></script>
		<script src="HL7 Grammar/HL7NonPrimitive.js"></script>
		<script src="HL7 Grammar/HL7Grammar.js"></script>
		
		<script src="HL7 Parser/HL7ParsedEntity.js"></script>
		<script src="HL7 Parser/HL7ParsedConstituent.js"></script>
		<script src="HL7 Parser/HL7ParsedSegment.js"></script>
		<script src="HL7 Parser/HL7ParsedMessage.js"></script>
		
		<script src="HTML Rendering/render_utilities.js"></script>
		<script src="HTML Rendering/HL7GrammarRenderer.js"></script>
		<script src="HTML Rendering/HL7MessageRenderer.js"></script>
		<script src="HTML Rendering/HL7SegmentRenderer.js"></script>
		<script src="HTML Rendering/HL7ConstituentRenderer.js"></script>
		
		<script src="JSZip.js"></script>
		<script src="index.js"></script>
		
		<button id="smith-mode">Smith's Mode</button>
		<script>
			document.getElementById("smith-mode").addEventListener("click", () => {
				document.querySelector("body").setAttribute("background", "bg_stars.gif")
			})
		</script>
	</body>
</html>